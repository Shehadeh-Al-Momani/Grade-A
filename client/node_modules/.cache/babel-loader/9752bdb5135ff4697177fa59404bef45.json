{"ast":null,"code":"var _jsxFileName = \"E:\\\\JCA\\\\Projects\\\\Project-5\\\\Grade-A\\\\client\\\\src\\\\components\\\\instructors\\\\AddNewCourse.js\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nexport default function AddNewCourse() {\n  const [name, setName] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [instructorId, setInstructorId] = useState(\"\");\n  const [selectedFile, setSelectedFile] = useState(\"\");\n  const [createdAt, setCreatedAt] = useState(\"\");\n  const [categorys, setCategorys] = useState([]);\n  const [isDisable, setIsDisable] = useState(\"No\");\n  useEffect(() => {\n    axios.get(\"http://localhost:5000/instructors/categories\").then(res => {\n      setCategorys(res.data);\n    }).catch(err => {});\n  }, []);\n\n  const onChangeHandler = e => {\n    setSelectedFile(e.target.files[0]);\n    const data = new FormData();\n    data.append(\"file\", selectedFile);\n    axios.post(\"http://localhost:5000/instructors/upload\", data, {}).then(res => {});\n  };\n\n  const handleSubmit = e => {\n    const index = e.target[4].selectedIndex;\n    const el = e.target[4].childNodes[index];\n    const option = el.getAttribute(\"id\");\n    const image_path = \"public/image\" + e.target[3].files[0].name;\n    console.log(image_path);\n    const decoded = jwt_decode(localStorage.getItem(\"token\"));\n    console.log(decoded.id);\n    axios.post(\"http://localhost:5000/instructors/course\", {\n      name: e.target[0].value,\n      price: e.target[1].value,\n      description: e.target[2].value,\n      instructor_id: decoded.id,\n      category_id: option,\n      img_url: image_path\n    }).then(res => {}).catch(err => {});\n    e.preventDefault();\n  };\n\n  useEffect(() => {}, []);\n\n  const onNameChange = value => {\n    setName(value);\n  };\n\n  const onPriceChange = value => {\n    setPrice(value);\n  };\n\n  const onDescriptionChange = value => {\n    setDescription(value);\n  };\n\n  const onInstructorIdChange = value => {\n    setInstructorId(value);\n  };\n\n  const onCreatedAtChange = value => {\n    setCreatedAt(value);\n  };\n\n  const onCategoryChange = value => {\n    setCategorys(value);\n    console.log(value);\n    console.log(value);\n  };\n\n  const onIsDisableChange = value => {\n    setIsDisable(value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"name\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"inputStyle\",\n    type: \"text\",\n    id: \"name\",\n    onChange: e => onNameChange(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"price\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"inputStyle\",\n    type: \"text\",\n    id: \"price\",\n    name: \"price\",\n    onChange: e => onPriceChange(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, \"description\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"inputStyle\",\n    type: \"text\",\n    id: \"description\",\n    name: \"description\",\n    onChange: e => onDescriptionChange(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"image Url \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    onChange: onChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"optionStyle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, categorys.map(category => /*#__PURE__*/React.createElement(\"option\", {\n    key: category.id,\n    id: category.id,\n    value: category.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, category.name))), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"submitStyle\",\n    type: \"submit\",\n    name: \"Submit\",\n    value: \"save\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["E:/JCA/Projects/Project-5/Grade-A/client/src/components/instructors/AddNewCourse.js"],"names":["React","useState","useEffect","axios","jwt_decode","AddNewCourse","name","setName","price","setPrice","description","setDescription","instructorId","setInstructorId","selectedFile","setSelectedFile","createdAt","setCreatedAt","categorys","setCategorys","isDisable","setIsDisable","get","then","res","data","catch","err","onChangeHandler","e","target","files","FormData","append","post","handleSubmit","index","selectedIndex","el","childNodes","option","getAttribute","image_path","console","log","decoded","localStorage","getItem","id","value","instructor_id","category_id","img_url","preventDefault","onNameChange","onPriceChange","onDescriptionChange","onInstructorIdChange","onCreatedAtChange","onCategoryChange","onIsDisableChange","map","category"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nexport default function AddNewCourse() {\r\n  const [name, setName] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [instructorId, setInstructorId] = useState(\"\");\r\n  const [selectedFile, setSelectedFile] = useState(\"\");\r\n  const [createdAt, setCreatedAt] = useState(\"\");\r\n  const [categorys, setCategorys] = useState([]);\r\n  const [isDisable, setIsDisable] = useState(\"No\");\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://localhost:5000/instructors/categories\")\r\n      .then((res) => {\r\n        setCategorys(res.data);\r\n      })\r\n      .catch((err) => {});\r\n  }, []);\r\n  const onChangeHandler = (e) => {\r\n    setSelectedFile(e.target.files[0]);\r\n    const data = new FormData();\r\n    data.append(\"file\", selectedFile);\r\n    axios\r\n      .post(\"http://localhost:5000/instructors/upload\", data, {})\r\n      .then((res) => {});\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    const index = e.target[4].selectedIndex;\r\n    const el = e.target[4].childNodes[index];\r\n    const option = el.getAttribute(\"id\");\r\n    const image_path = \"public/image\" + e.target[3].files[0].name;\r\n    console.log(image_path);\r\n    const decoded = jwt_decode(localStorage.getItem(\"token\"));\r\n    console.log(decoded.id);\r\n    axios\r\n      .post(\"http://localhost:5000/instructors/course\", {\r\n        name: e.target[0].value,\r\n        price: e.target[1].value,\r\n        description: e.target[2].value,\r\n        instructor_id: decoded.id,\r\n        category_id: option,\r\n        img_url: image_path,\r\n      })\r\n      .then((res) => {})\r\n      .catch((err) => {});\r\n    e.preventDefault();\r\n  };\r\n\r\n  useEffect(() => {}, []);\r\n  const onNameChange = (value) => {\r\n    setName(value);\r\n  };\r\n  const onPriceChange = (value) => {\r\n    setPrice(value);\r\n  };\r\n  const onDescriptionChange = (value) => {\r\n    setDescription(value);\r\n  };\r\n  const onInstructorIdChange = (value) => {\r\n    setInstructorId(value);\r\n  };\r\n\r\n  const onCreatedAtChange = (value) => {\r\n    setCreatedAt(value);\r\n  };\r\n  const onCategoryChange = (value) => {\r\n    setCategorys(value);\r\n    console.log(value);\r\n    console.log(value);\r\n  };\r\n\r\n  const onIsDisableChange = (value) => {\r\n    setIsDisable(value);\r\n  };\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>name</label>\r\n        <input\r\n          className=\"inputStyle\"\r\n          type=\"text\"\r\n          id=\"name\"\r\n          onChange={(e) => onNameChange(e.target.value)}\r\n        />\r\n        <label>price</label>\r\n        <input\r\n          className=\"inputStyle\"\r\n          type=\"text\"\r\n          id=\"price\"\r\n          name=\"price\"\r\n          onChange={(e) => onPriceChange(e.target.value)}\r\n        />\r\n        <label>description</label>\r\n        <input\r\n          className=\"inputStyle\"\r\n          type=\"text\"\r\n          id=\"description\"\r\n          name=\"description\"\r\n          onChange={(e) => onDescriptionChange(e.target.value)}\r\n        />\r\n        <label>image Url </label>\r\n        <input type=\"file\" name=\"file\" onChange={onChangeHandler} />\r\n        <br></br>\r\n        <label>Category</label>\r\n        <select className=\"optionStyle\">\r\n          {categorys.map((category) => (\r\n            <option key={category.id} id={category.id} value={category.name}>\r\n              {category.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <input\r\n          className=\"submitStyle\"\r\n          type=\"submit\"\r\n          name=\"Submit\"\r\n          value=\"save\"\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}