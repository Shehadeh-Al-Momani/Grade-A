{"ast":null,"code":"const Template = require('webpack/lib/Template');\n\nconst {\n  refreshGlobal\n} = require('../globals');\n/**\n * @typedef {Object} RuntimeTemplate\n * @property {function(string, string[]): string} basicFunction\n * @property {function(): boolean} supportsConst\n * @property {function(string, string=): string} returningFunction\n */\n\n/** @type {RuntimeTemplate} */\n\n\nconst FALLBACK_RUNTIME_TEMPLATE = {\n  basicFunction(args, body) {\n    return `function(${args}) {\\n${Template.indent(body)}\\n}`;\n  },\n\n  supportsConst() {\n    return false;\n  },\n\n  returningFunction(returnValue, args = '') {\n    return `function(${args}) { return ${returnValue}; }`;\n  }\n\n};\n/**\n * Generates the refresh global runtime template.\n * @param {RuntimeTemplate} [runtimeTemplate] The runtime template helpers.\n * @returns {string} The refresh global runtime template.\n */\n\nfunction getRefreshGlobal(runtimeTemplate = FALLBACK_RUNTIME_TEMPLATE) {\n  const declaration = runtimeTemplate.supportsConst() ? 'const' : 'var';\n  return Template.asString([`${refreshGlobal} = {`, Template.indent([`init: ${runtimeTemplate.basicFunction('', [`${refreshGlobal}.cleanup = ${runtimeTemplate.returningFunction('undefined')};`, `${refreshGlobal}.register = ${runtimeTemplate.returningFunction('undefined')};`, `${refreshGlobal}.runtime = {};`, `${refreshGlobal}.signature = ${runtimeTemplate.returningFunction(runtimeTemplate.returningFunction('type', 'type'))};`])},`, `setup: ${runtimeTemplate.basicFunction('currentModuleId', [`${declaration} prevCleanup = ${refreshGlobal}.cleanup;`, `${declaration} prevReg = ${refreshGlobal}.register;`, `${declaration} prevSig = ${refreshGlobal}.signature;`, '', `${refreshGlobal}.register = ${runtimeTemplate.basicFunction('type, id', [`${declaration} typeId = currentModuleId + \" \" + id;`, `${refreshGlobal}.runtime.register(type, typeId);`])}`, '', `${refreshGlobal}.signature = ${refreshGlobal}.runtime.createSignatureFunctionForTransform;`, '', `${refreshGlobal}.cleanup = ${runtimeTemplate.basicFunction('cleanupModuleId', ['if (currentModuleId === cleanupModuleId) {', Template.indent([`${refreshGlobal}.register = prevReg;`, `${refreshGlobal}.signature = prevSig;`, `${refreshGlobal}.cleanup = prevCleanup;`]), '}'])}`])},`]), '};']);\n}\n\nmodule.exports = getRefreshGlobal;","map":{"version":3,"sources":["E:/JCA/Projects/Project-5/Grade-A/Front-End/node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/utils/getRefreshGlobal.js"],"names":["Template","require","refreshGlobal","FALLBACK_RUNTIME_TEMPLATE","basicFunction","args","body","indent","supportsConst","returningFunction","returnValue","getRefreshGlobal","runtimeTemplate","declaration","asString","module","exports"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAAC,sBAAD,CAAxB;;AACA,MAAM;AAAEC,EAAAA;AAAF,IAAoBD,OAAO,CAAC,YAAD,CAAjC;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AACA,MAAME,yBAAyB,GAAG;AAChCC,EAAAA,aAAa,CAACC,IAAD,EAAOC,IAAP,EAAa;AACxB,WAAQ,YAAWD,IAAK,QAAOL,QAAQ,CAACO,MAAT,CAAgBD,IAAhB,CAAsB,KAArD;AACD,GAH+B;;AAIhCE,EAAAA,aAAa,GAAG;AACd,WAAO,KAAP;AACD,GAN+B;;AAOhCC,EAAAA,iBAAiB,CAACC,WAAD,EAAcL,IAAI,GAAG,EAArB,EAAyB;AACxC,WAAQ,YAAWA,IAAK,cAAaK,WAAY,KAAjD;AACD;;AAT+B,CAAlC;AAYA;AACA;AACA;AACA;AACA;;AACA,SAASC,gBAAT,CAA0BC,eAAe,GAAGT,yBAA5C,EAAuE;AACrE,QAAMU,WAAW,GAAGD,eAAe,CAACJ,aAAhB,KAAkC,OAAlC,GAA4C,KAAhE;AACA,SAAOR,QAAQ,CAACc,QAAT,CAAkB,CACtB,GAAEZ,aAAc,MADM,EAEvBF,QAAQ,CAACO,MAAT,CAAgB,CACb,SAAQK,eAAe,CAACR,aAAhB,CAA8B,EAA9B,EAAkC,CACxC,GAAEF,aAAc,cAAaU,eAAe,CAACH,iBAAhB,CAAkC,WAAlC,CAA+C,GADpC,EAExC,GAAEP,aAAc,eAAcU,eAAe,CAACH,iBAAhB,CAAkC,WAAlC,CAA+C,GAFrC,EAGxC,GAAEP,aAAc,gBAHwB,EAIxC,GAAEA,aAAc,gBAAeU,eAAe,CAACH,iBAAhB,CAC9BG,eAAe,CAACH,iBAAhB,CAAkC,MAAlC,EAA0C,MAA1C,CAD8B,CAE9B,GANuC,CAAlC,CAON,GARW,EASb,UAASG,eAAe,CAACR,aAAhB,CAA8B,iBAA9B,EAAiD,CACxD,GAAES,WAAY,kBAAiBX,aAAc,WADW,EAExD,GAAEW,WAAY,cAAaX,aAAc,YAFe,EAGxD,GAAEW,WAAY,cAAaX,aAAc,aAHe,EAIzD,EAJyD,EAKxD,GAAEA,aAAc,eAAcU,eAAe,CAACR,aAAhB,CAA8B,UAA9B,EAA0C,CACtE,GAAES,WAAY,uCADwD,EAEtE,GAAEX,aAAc,kCAFsD,CAA1C,CAG5B,EARsD,EASzD,EATyD,EAUxD,GAAEA,aAAc,gBAAeA,aAAc,+CAVW,EAWzD,EAXyD,EAYxD,GAAEA,aAAc,cAAaU,eAAe,CAACR,aAAhB,CAA8B,iBAA9B,EAAiD,CAC7E,4CAD6E,EAE7EJ,QAAQ,CAACO,MAAT,CAAgB,CACb,GAAEL,aAAc,sBADH,EAEb,GAAEA,aAAc,uBAFH,EAGb,GAAEA,aAAc,yBAHH,CAAhB,CAF6E,EAO7E,GAP6E,CAAjD,CAQ3B,EApBsD,CAAjD,CAqBP,GA9BW,CAAhB,CAFuB,EAkCvB,IAlCuB,CAAlB,CAAP;AAoCD;;AAEDa,MAAM,CAACC,OAAP,GAAiBL,gBAAjB","sourcesContent":["const Template = require('webpack/lib/Template');\nconst { refreshGlobal } = require('../globals');\n\n/**\n * @typedef {Object} RuntimeTemplate\n * @property {function(string, string[]): string} basicFunction\n * @property {function(): boolean} supportsConst\n * @property {function(string, string=): string} returningFunction\n */\n\n/** @type {RuntimeTemplate} */\nconst FALLBACK_RUNTIME_TEMPLATE = {\n  basicFunction(args, body) {\n    return `function(${args}) {\\n${Template.indent(body)}\\n}`;\n  },\n  supportsConst() {\n    return false;\n  },\n  returningFunction(returnValue, args = '') {\n    return `function(${args}) { return ${returnValue}; }`;\n  },\n};\n\n/**\n * Generates the refresh global runtime template.\n * @param {RuntimeTemplate} [runtimeTemplate] The runtime template helpers.\n * @returns {string} The refresh global runtime template.\n */\nfunction getRefreshGlobal(runtimeTemplate = FALLBACK_RUNTIME_TEMPLATE) {\n  const declaration = runtimeTemplate.supportsConst() ? 'const' : 'var';\n  return Template.asString([\n    `${refreshGlobal} = {`,\n    Template.indent([\n      `init: ${runtimeTemplate.basicFunction('', [\n        `${refreshGlobal}.cleanup = ${runtimeTemplate.returningFunction('undefined')};`,\n        `${refreshGlobal}.register = ${runtimeTemplate.returningFunction('undefined')};`,\n        `${refreshGlobal}.runtime = {};`,\n        `${refreshGlobal}.signature = ${runtimeTemplate.returningFunction(\n          runtimeTemplate.returningFunction('type', 'type')\n        )};`,\n      ])},`,\n      `setup: ${runtimeTemplate.basicFunction('currentModuleId', [\n        `${declaration} prevCleanup = ${refreshGlobal}.cleanup;`,\n        `${declaration} prevReg = ${refreshGlobal}.register;`,\n        `${declaration} prevSig = ${refreshGlobal}.signature;`,\n        '',\n        `${refreshGlobal}.register = ${runtimeTemplate.basicFunction('type, id', [\n          `${declaration} typeId = currentModuleId + \" \" + id;`,\n          `${refreshGlobal}.runtime.register(type, typeId);`,\n        ])}`,\n        '',\n        `${refreshGlobal}.signature = ${refreshGlobal}.runtime.createSignatureFunctionForTransform;`,\n        '',\n        `${refreshGlobal}.cleanup = ${runtimeTemplate.basicFunction('cleanupModuleId', [\n          'if (currentModuleId === cleanupModuleId) {',\n          Template.indent([\n            `${refreshGlobal}.register = prevReg;`,\n            `${refreshGlobal}.signature = prevSig;`,\n            `${refreshGlobal}.cleanup = prevCleanup;`,\n          ]),\n          '}',\n        ])}`,\n      ])},`,\n    ]),\n    '};',\n  ]);\n}\n\nmodule.exports = getRefreshGlobal;\n"]},"metadata":{},"sourceType":"script"}