{"ast":null,"code":"var _jsxFileName = \"E:\\\\JCA\\\\Projects\\\\Project-5\\\\Grade-A\\\\Front-End\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from 'react';\nimport logo from './pics/logo.png';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport jwt_decode from 'jwt-decode';\n\nconst Login = () => {\n  const history = useHistory();\n  const [email, setemail] = useState('');\n  const [password, setpassword] = useState('');\n  const [logErr, setlogErr] = useState('');\n\n  const emailHandler = e => {\n    setemail(e.target.value);\n    setlogErr(false);\n  };\n\n  const passHandler = e => {\n    setpassword(e.target.value);\n    setlogErr(false);\n  };\n\n  const login = (email, password) => {\n    axios.post(`http://localhost:5000/login`, {\n      email,\n      password\n    }).then(response => {\n      if (response.data === 'Invalid Email or password..') {\n        setlogErr(true);\n      } else {\n        const token = response.data;\n        localStorage.setItem('token', token);\n        const decoded = jwt_decode(token);\n        console.log(decoded.role_id);\n\n        if (decoded.role_id === 3) {\n          history.push('/categories');\n          window.location.reload();\n        } else if (decoded.role_id === 2) {\n          history.push('/instructors');\n          window.location.reload();\n        } else if (decoded.role_id === 1) {\n          history.push('/admin');\n          window.location.reload();\n        }\n      }\n    }).catch(err => {\n      throw err;\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loginCont\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 6\n    }\n  }, \"Log In as student or Instructor\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"l-border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 6\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Email\",\n    name: \"email\",\n    onChange: emailHandler,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Password\",\n    name: \"password\",\n    type: \"password\",\n    onChange: passHandler,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 6\n    }\n  }, logErr ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 20\n    }\n  }, \"Invalid Email or password..\") : '')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => login(email, password),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 6\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 6\n    }\n  }, \"Login to enroll in courses and more . \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"not-sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, \"Don't have an account?\"), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://localhost:3000/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, \"Sign up\")));\n}; // return (\n// \t<div className=\"loginCont\">\n// \t\t<div className=\"login\">\n// \t\t\t<div className=\"login-logo\">\n// \t\t\t\t<img src={logo} alt=\"\"></img>\n// \t\t\t\t<p>Log In as student or Instructor</p>\n// \t\t\t\t<div className=\"l-border\"></div>\n// \t\t\t</div>\n// \t\t\t<div className=\"inputs\">\n// \t\t\t\t<input placeholder=\"Email\" name=\"email\" onChange={emailHandler} required />\n// \t\t\t\t<input placeholder=\"Password\" name=\"password\" type=\"password\" onChange={passHandler} required />\n// \t\t\t\t<h5>{logErr ? (<span>Invalid Email or password..</span>) : \"\"}</h5>\n// \t\t\t</div>\n// \t\t\t<div className=\"signup\">\n// \t\t\t\t<button onClick={() => login(email, password)} >Login</button>\n// \t\t\t\t<p>Login to enroll in courses and more . </p>\n// \t\t\t</div>\n// \t\t</div>\n// \t\t<div className=\"not-sign\">\n// \t\t\t<p>Don't have an account?</p><a href=\"http://localhost:3000/signup\">Sign up</a>\n// \t\t</div>\n// \t</div>\n// )\n\n\nexport default Login;","map":{"version":3,"sources":["E:/JCA/Projects/Project-5/Grade-A/Front-End/src/components/Login.js"],"names":["React","useState","logo","axios","useHistory","jwt_decode","Login","history","email","setemail","password","setpassword","logErr","setlogErr","emailHandler","e","target","value","passHandler","login","post","then","response","data","token","localStorage","setItem","decoded","console","log","role_id","push","window","location","reload","catch","err"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport logo from './pics/logo.png';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\nimport jwt_decode from 'jwt-decode';\r\n\r\nconst Login = () => {\r\n\tconst history = useHistory();\r\n\r\n\tconst [email, setemail] = useState('');\r\n\tconst [password, setpassword] = useState('');\r\n\tconst [logErr, setlogErr] = useState('');\r\n\r\n\tconst emailHandler = (e) => {\r\n\t\tsetemail(e.target.value);\r\n\t\tsetlogErr(false);\r\n\t};\r\n\tconst passHandler = (e) => {\r\n\t\tsetpassword(e.target.value);\r\n\t\tsetlogErr(false);\r\n\t};\r\n\r\n\tconst login = (email, password) => {\r\n\t\taxios\r\n\t\t\t.post(`http://localhost:5000/login`, {\r\n\t\t\t\temail,\r\n\t\t\t\tpassword,\r\n\t\t\t})\r\n\t\t\t.then((response) => {\r\n\t\t\t\tif (response.data === 'Invalid Email or password..') {\r\n\t\t\t\t\tsetlogErr(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst token = response.data;\r\n\t\t\t\t\tlocalStorage.setItem('token', token);\r\n\t\t\t\t\tconst decoded = jwt_decode(token);\r\n\t\t\t\t\tconsole.log(decoded.role_id);\r\n\t\t\t\t\tif (decoded.role_id === 3) {\r\n\t\t\t\t\t\thistory.push('/categories');\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t} else if (decoded.role_id === 2) {\r\n\t\t\t\t\t\thistory.push('/instructors');\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t} else if (decoded.role_id === 1) {\r\n\t\t\t\t\t\thistory.push('/admin');\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tthrow err;\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='loginCont'>\r\n\t\t\t<div className='login'>\r\n\t\t\t\t<div className='login-logo'>\r\n\t\t\t\t\t<img src={logo} alt=''></img>\r\n\t\t\t\t\t<p>Log In as student or Instructor</p>\r\n\t\t\t\t\t<div className='l-border'></div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='inputs'>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\tonChange={emailHandler}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\tonChange={passHandler}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<h5>{logErr ? <span>Invalid Email or password..</span> : ''}</h5>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='signup'>\r\n\t\t\t\t\t<button onClick={() => login(email, password)}>Login</button>\r\n\t\t\t\t\t<p>Login to enroll in courses and more . </p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='not-sign'>\r\n\t\t\t\t<p>Don't have an account?</p>\r\n\t\t\t\t<a href='http://localhost:3000/signup'>Sign up</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n\r\n\r\n// return (\r\n// \t<div className=\"loginCont\">\r\n// \t\t<div className=\"login\">\r\n// \t\t\t<div className=\"login-logo\">\r\n// \t\t\t\t<img src={logo} alt=\"\"></img>\r\n// \t\t\t\t<p>Log In as student or Instructor</p>\r\n// \t\t\t\t<div className=\"l-border\"></div>\r\n// \t\t\t</div>\r\n// \t\t\t<div className=\"inputs\">\r\n// \t\t\t\t<input placeholder=\"Email\" name=\"email\" onChange={emailHandler} required />\r\n// \t\t\t\t<input placeholder=\"Password\" name=\"password\" type=\"password\" onChange={passHandler} required />\r\n// \t\t\t\t<h5>{logErr ? (<span>Invalid Email or password..</span>) : \"\"}</h5>\r\n// \t\t\t</div>\r\n// \t\t\t<div className=\"signup\">\r\n// \t\t\t\t<button onClick={() => login(email, password)} >Login</button>\r\n// \t\t\t\t<p>Login to enroll in courses and more . </p>\r\n// \t\t\t</div>\r\n// \t\t</div>\r\n// \t\t<div className=\"not-sign\">\r\n// \t\t\t<p>Don't have an account?</p><a href=\"http://localhost:3000/signup\">Sign up</a>\r\n// \t\t</div>\r\n// \t</div>\r\n// )\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}