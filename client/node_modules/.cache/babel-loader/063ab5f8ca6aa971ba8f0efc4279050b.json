{"ast":null,"code":"var _jsxFileName = \"E:\\\\JCA\\\\Projects\\\\Project-5\\\\Grade-A\\\\Front-End\\\\src\\\\components\\\\instructors\\\\AddNewLesson.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nconst token = localStorage.getItem('token');\nexport default function AddNewCourse() {\n  const [name, setName] = useState('');\n  const [courses, setCourses] = useState([]);\n  const [selectedFile, setSelectedFile] = useState('');\n  const [createdAt, setCreatedAt] = useState('');\n\n  const onChangeHandler = e => {\n    console.log(e.target.files[0]);\n    setSelectedFile(e.target.files[0]);\n    const data = new FormData();\n    data.append('file', selectedFile);\n    axios.post('http://localhost:5000/instructors/uploadVideo', data, {\n      headers: {\n        authorization: token\n      }\n    }).then(res => {});\n  };\n\n  const handleSubmit = e => {\n    const index = e.target[2].selectedIndex;\n    const el = e.target[2].childNodes[index];\n    const option = el.getAttribute('id');\n    axios.post('http://localhost:5000/instructors/lesson', {\n      headers: {\n        authorization: token\n      }\n    }, {\n      name: e.target[0].value,\n      video_url: 'test_url',\n      course_id: option\n    }).then(res => {}).catch(err => {});\n    e.preventDefault();\n  };\n\n  useEffect(() => {\n    axios.get('http://localhost:5000/instructors/courses', {\n      headers: {\n        authorization: token\n      }\n    }).then(res => {\n      setCourses(res.data);\n      console.log(res.data);\n    }).catch(err => {});\n  }, []);\n\n  const onNameChange = value => {\n    setName(value);\n  };\n\n  const onCourseIdChange = value => {\n    setCourses(value);\n  };\n\n  const onCreatedAtChange = value => {\n    setCreatedAt(value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }\n  }, \"name\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"inputStyle\",\n    type: \"text\",\n    id: \"name\",\n    onChange: e => onNameChange(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 5\n    }\n  }, \"video Url \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    onChange: onChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, \"Courses\"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"optionStyle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, ' ', courses.map(course => /*#__PURE__*/React.createElement(\"option\", {\n    key: course.id,\n    id: course.id,\n    value: course.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, course.name))), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"submitStyle\",\n    type: \"submit\",\n    name: \"Submit\",\n    value: \"save\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }\n  })));\n}","map":{"version":3,"sources":["E:/JCA/Projects/Project-5/Grade-A/Front-End/src/components/instructors/AddNewLesson.js"],"names":["React","useState","useEffect","axios","token","localStorage","getItem","AddNewCourse","name","setName","courses","setCourses","selectedFile","setSelectedFile","createdAt","setCreatedAt","onChangeHandler","e","console","log","target","files","data","FormData","append","post","headers","authorization","then","res","handleSubmit","index","selectedIndex","el","childNodes","option","getAttribute","value","video_url","course_id","catch","err","preventDefault","get","onNameChange","onCourseIdChange","onCreatedAtChange","map","course","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nconst token = localStorage.getItem('token');\r\nexport default function AddNewCourse() {\r\n\tconst [name, setName] = useState('');\r\n\tconst [courses, setCourses] = useState([]);\r\n\tconst [selectedFile, setSelectedFile] = useState('');\r\n\tconst [createdAt, setCreatedAt] = useState('');\r\n\r\n\tconst onChangeHandler = (e) => {\r\n\t\tconsole.log(e.target.files[0]);\r\n\t\tsetSelectedFile(e.target.files[0]);\r\n\t\tconst data = new FormData();\r\n\t\tdata.append('file', selectedFile);\r\n\t\taxios\r\n\t\t\t.post('http://localhost:5000/instructors/uploadVideo', data, {\r\n\t\t\t\theaders: { authorization: token },\r\n\t\t\t})\r\n\t\t\t.then((res) => {});\r\n\t};\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\tconst index = e.target[2].selectedIndex;\r\n\t\tconst el = e.target[2].childNodes[index];\r\n\t\tconst option = el.getAttribute('id');\r\n\t\taxios\r\n\t\t\t.post(\r\n\t\t\t\t'http://localhost:5000/instructors/lesson',\r\n\t\t\t\t{\r\n\t\t\t\t\theaders: { authorization: token },\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tname: e.target[0].value,\r\n\t\t\t\t\tvideo_url: 'test_url',\r\n\t\t\t\t\tcourse_id: option,\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.then((res) => {})\r\n\t\t\t.catch((err) => {});\r\n\t\te.preventDefault();\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\taxios\r\n\t\t\t.get('http://localhost:5000/instructors/courses', {\r\n\t\t\t\theaders: { authorization: token },\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tsetCourses(res.data);\r\n\t\t\t\tconsole.log(res.data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {});\r\n\t}, []);\r\n\tconst onNameChange = (value) => {\r\n\t\tsetName(value);\r\n\t};\r\n\r\n\tconst onCourseIdChange = (value) => {\r\n\t\tsetCourses(value);\r\n\t};\r\n\r\n\tconst onCreatedAtChange = (value) => {\r\n\t\tsetCreatedAt(value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<label>name</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='inputStyle'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tid='name'\r\n\t\t\t\t\tonChange={(e) => onNameChange(e.target.value)}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<label>video Url </label>\r\n\t\t\t\t<input type='file' name='file' onChange={onChangeHandler} />\r\n\t\t\t\t<br></br>\r\n\r\n\t\t\t\t<label>Courses</label>\r\n\t\t\t\t<select className='optionStyle'>\r\n\t\t\t\t\t{' '}\r\n\t\t\t\t\t{courses.map((course) => (\r\n\t\t\t\t\t\t<option key={course.id} id={course.id} value={course.name}>\r\n\t\t\t\t\t\t\t{course.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='submitStyle'\r\n\t\t\t\t\ttype='submit'\r\n\t\t\t\t\tname='Submit'\r\n\t\t\t\t\tvalue='save'\r\n\t\t\t\t/>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}