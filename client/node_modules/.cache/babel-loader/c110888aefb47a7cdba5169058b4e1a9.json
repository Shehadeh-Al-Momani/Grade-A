{"ast":null,"code":"var _jsxFileName = \"E:\\\\JCA\\\\Projects\\\\Project-5\\\\Grade-A\\\\Front-End\\\\src\\\\components\\\\instructors\\\\AddNewLesson.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nconst token = localStorage.getItem('token');\nexport default function AddNewCourse() {\n  const [name, setName] = useState('');\n  const [courses, setCourses] = useState([]);\n  const [selectedFile, setSelectedFile] = useState('');\n  const [createdAt, setCreatedAt] = useState('');\n\n  const onChangeHandler = e => {\n    console.log(e.target.files[0]);\n    setSelectedFile(e.target.files[0]);\n    const data = new FormData();\n    data.append('file', selectedFile);\n    axios.post('http://localhost:5000/instructors/uploadVideo', data, {\n      headers: {\n        authorization: token\n      }\n    }).then(res => {});\n  };\n\n  const handleSubmit = e => {\n    const index = e.target[2].selectedIndex;\n    const el = e.target[2].childNodes[index];\n    const option = el.getAttribute('id');\n    axios.post('http://localhost:5000/instructors/lesson', {\n      headers: {\n        authorization: token\n      }\n    }, {\n      name: e.target[0].value,\n      video_url: 'test_url',\n      course_id: option\n    }).then(res => {}).catch(err => {});\n    e.preventDefault();\n  };\n\n  useEffect(() => {\n    axios.get('http://localhost:5000/instructors/courses', {\n      headers: {\n        authorization: token\n      }\n    }).then(res => {\n      setCourses(res.data);\n      console.log(res.data);\n    }).catch(err => {});\n  }, []);\n\n  const onNameChange = value => {\n    setName(value);\n  };\n\n  const onCourseIdChange = value => {\n    setCourses(value);\n  };\n\n  const onCreatedAtChange = value => {\n    setCreatedAt(value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"name\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"inputStyle\",\n    type: \"text\",\n    id: \"name\",\n    onChange: e => onNameChange(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \"video Url \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"file\",\n    onChange: onChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, \"Courses\"), /*#__PURE__*/React.createElement(\"select\", {\n    className: \"optionStyle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, ' ', courses.map(course => /*#__PURE__*/React.createElement(\"option\", {\n    key: course.id,\n    id: course.id,\n    value: course.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, course.name))), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"submitStyle\",\n    type: \"submit\",\n    name: \"Submit\",\n    value: \"save\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["E:/JCA/Projects/Project-5/Grade-A/Front-End/src/components/instructors/AddNewLesson.js"],"names":["React","useState","useEffect","axios","token","localStorage","getItem","AddNewCourse","name","setName","courses","setCourses","selectedFile","setSelectedFile","createdAt","setCreatedAt","onChangeHandler","e","console","log","target","files","data","FormData","append","post","headers","authorization","then","res","handleSubmit","index","selectedIndex","el","childNodes","option","getAttribute","value","video_url","course_id","catch","err","preventDefault","get","onNameChange","onCourseIdChange","onCreatedAtChange","map","course","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nconst token = localStorage.getItem('token');\r\nexport default function AddNewCourse() {\r\n  const [name, setName] = useState('');\r\n  const [courses, setCourses] = useState([]);\r\n  const [selectedFile, setSelectedFile] = useState('');\r\n  const [createdAt, setCreatedAt] = useState('');\r\n\r\n  const onChangeHandler = (e) => {\r\n    console.log(e.target.files[0]);\r\n    setSelectedFile(e.target.files[0]);\r\n    const data = new FormData();\r\n    data.append('file', selectedFile);\r\n    axios\r\n      .post('http://localhost:5000/instructors/uploadVideo', data, {\r\n        headers: { authorization: token },\r\n      })\r\n      .then((res) => { });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    const index = e.target[2].selectedIndex;\r\n    const el = e.target[2].childNodes[index];\r\n    const option = el.getAttribute('id');\r\n    axios\r\n      .post(\r\n        'http://localhost:5000/instructors/lesson',\r\n        {\r\n          headers: { authorization: token },\r\n        },\r\n        {\r\n          name: e.target[0].value,\r\n          video_url: 'test_url',\r\n          course_id: option,\r\n        }\r\n      )\r\n      .then((res) => { })\r\n      .catch((err) => { });\r\n    e.preventDefault();\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get('http://localhost:5000/instructors/courses', {\r\n        headers: { authorization: token },\r\n      })\r\n      .then((res) => {\r\n        setCourses(res.data);\r\n        console.log(res.data);\r\n      })\r\n      .catch((err) => { });\r\n  }, []);\r\n  const onNameChange = (value) => {\r\n    setName(value);\r\n  };\r\n\r\n  const onCourseIdChange = (value) => {\r\n    setCourses(value);\r\n  };\r\n\r\n  const onCreatedAtChange = (value) => {\r\n    setCreatedAt(value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>name</label>\r\n        <input\r\n          className='inputStyle'\r\n          type='text'\r\n          id='name'\r\n          onChange={(e) => onNameChange(e.target.value)}\r\n        />\r\n\r\n        <label>video Url </label>\r\n        <input type='file' name='file' onChange={onChangeHandler} />\r\n        <br></br>\r\n\r\n        <label>Courses</label>\r\n        <select className='optionStyle'>\r\n          {' '}\r\n          {courses.map((course) => (\r\n            <option key={course.id} id={course.id} value={course.name}>\r\n              {course.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <input\r\n          className='submitStyle'\r\n          type='submit'\r\n          name='Submit'\r\n          value='save'\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}